–î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ü–†–û–ï–ö–¢–ê
üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text

online-shop/
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma      # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ seed.ts           # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/       # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ services/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ routes/           # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îú‚îÄ‚îÄ types/            # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ tests/                # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ app.ts               # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

üóÑÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•
–ú–æ–¥–µ–ª–∏ Prisma:

1. Customer (–ö–ª–∏–µ–Ω—Ç—ã)
prisma

- id: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- fullname: –ü–æ–ª–Ω–æ–µ –∏–º—è
- phoneNumber: –¢–µ–ª–µ—Ñ–æ–Ω (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- email: Email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- address: –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- registrationDate: –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- orders: –°–≤—è–∑—å —Å –∑–∞–∫–∞–∑–∞–º–∏

2. Product (–¢–æ–≤–∞—Ä—ã)
prisma

- id: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- name: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- description: –û–ø–∏—Å–∞–Ω–∏–µ
- price: –¶–µ–Ω–∞
- category: –ö–∞—Ç–µ–≥–æ—Ä–∏—è
- stockQuantity: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ
- sku: –ê—Ä—Ç–∏–∫—É–ª (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- orderItems: –°–≤—è–∑—å —Å –ø–æ–∑–∏—Ü–∏—è–º–∏ –∑–∞–∫–∞–∑–∞

3. Order (–ó–∞–∫–∞–∑—ã)
prisma

- id: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- orderDate: –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞
- totalAmount: –û–±—â–∞—è —Å—É–º–º–∞
- status: –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ (enum)
- shippingAddress: –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- customerId: –°–≤—è–∑—å —Å –∫–ª–∏–µ–Ω—Ç–æ–º
- orderItems: –°–≤—è–∑—å —Å –ø–æ–∑–∏—Ü–∏—è–º–∏ –∑–∞–∫–∞–∑–∞

4. OrderItem (–ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞)
prisma

- id: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- quantity: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- unitPrice: –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
- orderId: –°–≤—è–∑—å —Å –∑–∞–∫–∞–∑–æ–º
- productId: –°–≤—è–∑—å —Å —Ç–æ–≤–∞—Ä–æ–º

Enum OrderStatus:

    PROCESSING - –í –æ–±—Ä–∞–±–æ—Ç–∫–µ

    PENDING - –û–∂–∏–¥–∞–Ω–∏–µ

    IN_TRANSIT - –í –ø—É—Ç–∏

    CONFIRMED - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω

    SHIPPED - –û—Ç–ø—Ä–∞–≤–ª–µ–Ω

    DELIVERED - –î–æ—Å—Ç–∞–≤–ª–µ–Ω

    CANCELLED - –û—Ç–º–µ–Ω–µ–Ω

üöÄ API –§–£–ù–ö–¶–ò–û–ù–ê–õ
üìç –ö–õ–ò–ï–ù–¢–´ (/customers)

CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:

    POST / - –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

    GET / - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

    GET /:id - –ü–æ–ª—É—á–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ ID

    PUT /:id - –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

    DELETE /:id - –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

    GET /search/customers?search=... - –ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

    GET /:customerId/orders - –ó–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞

    GET /analytics/top?limit=10 - –¢–æ–ø –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –∑–∞–∫–∞–∑–∞–º

    GET /analytics/inactive?months=3 - –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

üì¶ –¢–û–í–ê–†–´ (/products)

CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:

    POST / - –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä

    GET / - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã

    GET /:id - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ ID

    PUT /:id - –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä

    DELETE /:id - –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

    GET /search/products?search=... - –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤

    GET /analytics/popular?limit=10 - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

    GET /analytics/low-stock?threshold=10 - –¢–æ–≤–∞—Ä—ã —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º

    GET /category/:category - –¢–æ–≤–∞—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

    GET /price/range?minPrice=X&maxPrice=Y - –¢–æ–≤–∞—Ä—ã –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É —Ü–µ–Ω

üõí –ó–ê–ö–ê–ó–´ (/orders)

CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:

    POST / - –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑

    GET / - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã

    GET /:id - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ ID

    PUT /:id - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–∫–∞–∑

    DELETE /:id - –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

    GET /:orderId/products - –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ

    GET /analytics/period?startDate=X&endDate=Y - –ó–∞–∫–∞–∑—ã –∑–∞ –ø–µ—Ä–∏–æ–¥

    GET /status/in-transit - –ó–∞–∫–∞–∑—ã –≤ –ø—É—Ç–∏

üìã –ü–û–ó–ò–¶–ò–ò –ó–ê–ö–ê–ó–ê (/order-items)

    POST / - –°–æ–∑–¥–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –∑–∞–∫–∞–∑–∞

    GET / - –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞

    GET /:id - –ü–æ–∑–∏—Ü–∏—è –ø–æ ID

    PUT /:id - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é

    DELETE /:id - –£–¥–∞–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é

üîß –ö–õ–Æ–ß–ï–í–´–ï –§–£–ù–ö–¶–ò–ò –°–ò–°–¢–ï–ú–´
1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Å–∞–º–∏

    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–∞–ø–∞—Å–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞

    –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Å–æ–≤ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–∫–∞–∑–∞

    –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ –∑–∞–ø–∞—Å–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–∫–∞–∑–∞

2. –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

    –ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –∏–º–µ–Ω–∏, email, —Ç–µ–ª–µ—Ñ–æ–Ω—É

    –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é

    –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ —Ü–µ–Ω–∞–º

3. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

    –¢–æ–ø –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤ –∏ —Å—É–º–º–µ –ø–æ–∫—É–ø–æ–∫

    –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

    –í—ã—è–≤–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

    –¢–æ–≤–∞—Ä—ã —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º

4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

    –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–æ–≤

    –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö

    –¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ TypeScript

npx tsx server.ts - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å –ë–î

npm run test - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤